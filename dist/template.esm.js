function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function n(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}var s=function(t){return"\x3c!--".concat(t,"--\x3e")},r=/\s(\S+)\=[\"\']([^\"]*)$/,i=/^([^\"]*)[\"|\'][\s|\>]/,a=function(){function e(n){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t(this,e),this.strings=n.raw.slice(0),this.slots=[],this.prepare(s)}return n(e,[{key:"prepare",value:function(t){for(var e=0,n=this.strings.length-1,a=0;a<n;a++){var o=this.strings[a],l=t[a],u=r.exec(o);if(null!==u){var h=o.lastIndexOf("<");if(-1!=h&&e++,0===h)this.strings[a]=s(e)+o;else if(h>0){var c=o.substring(0,h-1),f=o.substring(h);this.strings[a]=c+s(e)+f}var g=u[1],v=u[2],d=this.strings[a].length-v.length;this.strings[a]=this.strings[a].slice(0,d);for(var p="",m=this.strings[a+1],x=i.exec(m);!x;)p+=m+t[a+1],this.strings.splice(a+1,1),t.splice(a+1,1),n--,m=this.strings[a+1],x=i.exec(m);var b=x[1];this.strings[a+1]=m.slice(b.length),this.slots.push({slotIndex:e,attr:g,value:v+l+p+b})}else e++,this.strings[a]=o+s(e),this.slots.push({slotIndex:e,value:l})}}},{key:"html",get:function(){for(var t="",e=this.strings.length-1,n=0;n<e;n++){var r=this.slots[n],i=r.attr,a=r.value;t+=this.strings[n]+a,void 0===i&&(t+=s("-"))}return t+this.strings[e]}}]),e}(),o=function(t){var e=t.nodeType,n=t.nodeValue;return e===Node.COMMENT_NODE&&!!parseInt(n)},l=function(){function e(n,s){t(this,e),this.template=n,this.container=s}return n(e,[{key:"render",value:function(){var t=document.createTreeWalker(this.container,NodeFilter.SHOW_COMMENT,{acceptNode:o},!1),e=t.nextNode();if(null!==e)for(;e;){var n=e.nodeValue,s=parseInt(n);this.commitNode(e.nextSibling,s),e=t.nextNode()}else{var r=document.createRange().createContextualFragment(this.template.html);this.container.appendChild(r)}}},{key:"commitNode",value:function(t,e){for(var n=this.template.slots.length,s=0;s<n;s++){if(this.template.slots[s].slotIndex===e){var r=this.template.slots[s],i=r.attr,a=r.value;if(void 0!==i)t.getAttribute(i)!==a&&t.setAttribute(i,a);else t.nodeValue!=a&&(t.nodeValue=a)}}}}]),e}(),u=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];return new a(t,n)},h=function(t,e){return new l(t,e).render()};export{u as html,h as render};
